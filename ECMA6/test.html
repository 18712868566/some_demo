﻿﻿<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Test</title>
    <!--<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>-->
</head>
<body>

<script>

    function add(a, b, c) {
        return a + b + c
    }

    // 参数1是被处理的函数
    function auto(fun) {
        // 先获取函数的参数个数
        let length = fun.length
        let array = []  // 当前攒好的函数参数
        let f = function () {
            // 把已有的参数添加进去
            array = [...array, ...arguments]
            // 判断当前参数够不够
            if (array.length < length) {
                return f
            } else {
                // 够的话，放到另外一个temp数组里
                let temp = [...array]
                // 将原数组重置
                array = []
                // 执行你预设的函数
                return fun.apply(this, temp)
            }
        }
        return f
    }
    let p = auto(add)
</script>
</body>
</html>