﻿<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<ol>
    <li>是一个构造函数，用于生成Promise实例（所以可以new Promise）；</li>
    <li>通常用于异步执行完成后的回调函数；</li>
    <li>有三个状态：pending（执行中），resolve（回调函数一，一般用于成功时），reject（回调函数二，一般用于失败时）；</li>
    <li>在new出Promise对象时，便已经执行（无论是否调用该实例的then方法）——进入pending状态；</li>
    <li>then方法被调用时，会判断该实例的状态，是pending还是另外两个；</li>
</ol>

<script>
    let foo = new Promise(function (resolve, reject) {
        resolve();
        console.log("in Promise");
    })

    console.log("after Promise");

    foo.then(function (arr) {
        console.log("in resolve");
    });

    console.log("at last");

    //in Promise
    //after Promise
    //at last
    //in resolve
</script>
</body>
</html>